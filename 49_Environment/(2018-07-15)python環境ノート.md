python環境ノート PythonEnvNote
===

## いつもこのノートを開くときみたいコマンドはこれ

```bash
# 今なんだっけ?
$ pyenv versions

# 他の環境に変えよっと。
$ pyenv global VERSION

# 新しい環境ほしいな。
$ pyenv install --list
$ pyenv install VERSION
$ pyenv virtualenv VERSION NEW_NAME
```


## Mac

#### 何ができる?

- python, anaconda 含むいろんなバージョンのｐｙてょんをターミナル上でインストール、切り替えができる。
- 切り替えたら python コマンドで実行できる。
- だから Sublime では何もいじらなくていい。

#### 前提

- xcode
- homebrew

#### pyenv, pyenv-virtualenv をインストール

```bash
brew install pyenv
git clone https://github.com/yyuu/pyenv-virtualenv.git ~/.pyenv/plugins/pyenv-virtualenv
```

#### .bash_profile に追記

```
export PYENV_ROOT=$HOME/.pyenv
export PATH=$PYENV_ROOT/bin:$PATH
eval "$(pyenv init -)"
eval "$(pyenv virtualenv-init -)"
```

オマケ .bash_profile の更新コマンド。

```
source ~/.profile
```

#### pyenv コマンド

```
pyenv install --list               インストールできるもの一覧。
pyenv install VERSION              インストールする。
pyenv virtualenv VERSION NEW_NAME  VERSIONのさらに下の区分を作成。
pyenv versions                     いまインストールしてあるもの一覧。
pyenv global VERSION               バージョン切り替え(全体)。
pyenv local VERSION                バージョン切り替え(カレントディレクトリ)。
pyenv uninstall NAME               環境を削除。
```

#### venv で環境変えるとターミナルのプロンプトに環境名が出て目障り問題

[https://blog.shibayu36.org/entry/2017/04/01/145758](https://blog.shibayu36.org/entry/2017/04/01/145758)


## Windows

#### カス

Windows はカス。ふつうにpythonをインストールして使えば。かろうじてできるのは以下。

- 複数バージョンは自分でインストーラを落としてインストール。(Mac ならターミナル上で全部できる。)
- 切り替えは厳密な意味ではできない。 `py -3.6 sample.py` `py -3.7 sample.py` みたいにイチイチバージョン指定が必要。
- よって Sublime では切り替えとか面倒くさい。

まあでもとりあえず方法だけは記しておくわ……。


#### 別バージョンをインストールする

[https://www.python.org/downloads/windows/](https://www.python.org/downloads/windows/)

- パスを通さないようにすること。
- パスを通していないためこの段階で `python -V` してもエラーになる。

#### バージョンを指定して実行

```
py -*.* sample.py      *.* の python で sample.py を実行する場合。
py sample.py           バージョンを指定しない場合入ってる最新のバージョンで実行になる。
py -*.* -V             バージョン確認。
```

最初見たときは「py っていうコマンドのバージョンを切り替えられるのかな?」って思ったんだけどできねえ。クソ。


## pip コマンド

```
pip search PACKAGE         パッケージの検索
pip list                   インストール済み
pip install PACKAGE        まあこれはいつもどおりてきとうに。
pip freeze > TXT_NAME      インストールしたパッケージ一覧をファイルに。
pip install -r TXT_NAME    ファイルからまとめてインストール。
pip uninstall -y PACKAGE   アンインストール。

pip list -o                更新があるパッケージを表示
pip install PACKAGE -U     パッケージを更新

```
