<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="./Dependencies/bootstrap-4/bootstrap-4.css">
  <link rel="stylesheet" href="./Dependencies/font-awesome-4/css/font-awesome.css">
</head>

<body>
  <div>
    <ul>
      <!-- toggle:何をするか target:どの要素を開くか -->
      <li><a href="" data-toggle="modal" data-target="#modalA">data-toggle と data-target でひらく</a></li>
      <li><a href="#" onclick="openModal()">JS でひらく</a></li>
    </ul>
  </div>

  <!-- モーダルいっこめ -->
  <div class="modal fade" id="modalA" tabindex="-1" role="dialog" aria-labelledby="modalA" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="modalATitle">
            たいとるだよ
          </h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <p>二重モーダルを解除するとスクロールが出来なくなる、なんて問題がネットにあったから、スクロールできるよう長くしとくよ。</p>
          <p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p><p>20</p><p>21</p><p>22</p><p>23</p><p>24</p><p>25</p><p>26</p><p>27</p><p>28</p><p>29</p><p>30</p><p>31</p><p>32</p><p>33</p><p>34</p><p>35</p>
        </div>
        <div class="modal-footer">
          <div class="col-6">
            <button type="button" class="btn btn-secondary pull-left" data-dismiss="modal">Cancel</button>
          </div>
          <div class="col-6">
            <button type="button" class="btn btn-primary pull-right" data-toggle="modal" data-target="#modalB">二重モーダルを開く</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- モーダルふたつめ -->
  <div class="modal fade" id="modalB" tabindex="-1" role="dialog" aria-labelledby="modalB" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="modalBTitle">
            たいとるだよ
          </h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
        </div>
        <div class="modal-footer">
          <div class="col-6">
            <button type="button" class="btn btn-secondary pull-left" data-dismiss="modal">Cancel</button>
          </div>
          <div class="col-6">
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- jquery と bootstrap4 -->
  <script src="./Dependencies/jquery-3.4.1.min.js"></script>
  <script src="./Dependencies/bootstrap-4/bootstrap-4.bundle.js"></script>

  <!-- Bootstrap4 Multiple Modal Note  -->
  <script>
    $(function() {
      $('body').on({
        'show.bs.modal': function() {
          const zIndex = 1040 + (10 * $('.modal:visible').length);
          $(this).css('z-index', zIndex);
          console.log(this, zIndex);
          setTimeout(() => {
            $('.modal-backdrop').not('.modal-stack').css('z-index', zIndex - 1).addClass('modal-stack');
          }, 0);
        },
        'hidden.bs.modal': function() {
          if ($('.modal:visible').length) {
            setTimeout(() => {
              $('body').addClass('modal-open');
            }, 0);
          }
        }
      }, '.modal');
    });
    const openModal = function () {
      $('#modalA').modal('toggle');
    };
  </script>
</body>
</html>