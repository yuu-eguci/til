
停止性問題が理解できない
===

停止性問題のこと、ぼくがちっとも理解できなかったこと、理解できたこと、のノート。


## 停止性問題って何

「あるプログラム `X` が停止するかどうかを判定するプログラムは作ることができるか?」っていう問題。

- 「停止する」とは正常終了のこと。
- 「停止しない」とは無限ループに入っちゃうこと。

答えは「できない」。以下にその証明を書くけれど、まあ、ぼくが理解できないのは停止性問題というか停止性問題が解けないことの証明だ。


## ネットでよくみる証明

「停止するかどうかを判定するプログラムは作れる」と仮定していろいろやってみて矛盾が起こることを確認する。

### 前提

- 「停止するか判定するプログラム」を `B` とする。
- `B` にプログラム `X` を読ませることを `B(X)` と表現する。
- `B(X)` は `Xが停止するとループ` して `Xがループすると停止` する。

### B(X) が停止すると仮定したとき

1. どんな `X` を与えても `B(X)` は停止すると仮定する。
1. `X` には `B(X)` 自体も含まれるから与えてみると `B(B(X))` になる。
1. `B(X)` は停止なので `B(B(X))` はループすることになる。
1. どんな `X` を与えても `B(X)` は停止すると仮定したのに `B(B(X))` はループするというのは矛盾である。
1. 前提である「どんなプログラムでも停止するか判定する(計算結果を決定できる)プログラムは存在する」は間違っていることになる。

証明終了。


## ぼくが理解できない点

### 1.について

「どんな `X` を与えても `B(X)` が停止する」ことはありえないから仮定は無意味だと思う。だって `停止するX` を与えたらループするじゃん。

### 2.について

よしんば `B(X)は停止する` と仮定したとすると、`Xはループするプログラムに限定する` という条件が追加されなければおかしいと思う。だって `B(X)` が停止するのは `X` がループするときだけじゃん。

そしてそうなると `B(X)` の `X` に `B(X)` を代入して `B(B(X))` にすることは不可能になる。だって `B(X)` は今停止すると仮定されてるんだから、`Xはループするプログラムに限定` されている現状代入できないから。

### 3.4.について

まあよしんばそれが全部通ったなら、ここは正しいと思う。

### 5.について

でもそれが矛盾することで証明できるのは `どんなXを与えてもB(X)が停止する` という仮定が間違っているということにすぎないと思う。本来間違っていることを証明したかった `停止するかどうかを判定するプログラムは作れる` という仮定には関係ないと思う。


## ぼくを納得させる説明

### 問題の確認

知りたいことは「あるプログラムが停止するか判断できるプログラムがあるか」。そして「あるプログラム」を「すべてのプログラム」と言い換えるとこいつは理解しやすい。

### B(X) が停止すると仮定したとき

このとき `X` はループするプログラムに限られるのでは? という疑問を否定することがこいつの理解を阻害していた。こいつの主張はそのまま通して、以下のように話をすれば理解する。

- `X` はループする。
- `B(X)` はだから停止するのが決まる。
- `B(B(X))` はだからループするのが決まる。`B(X)` と `B(B(X))` は違うというこいつの主張は正しい。
- だけどそこでもう一歩踏み込む必要があって `B(B((B(X))))` は停止することも決まる。
- ほんで `B(B(B(B(X))))` はループすることも決まる。
- そして `B(B(B(B(B...` とそれは無限にある。
- 言い換えると `B()` がとる引数の数だけあることになるのだが、その引数が、すべて挙げられないというのが肝。
- 全部挙げられないということは、全部のプログラムに対して停止判定ができないということ。
- よって「すべてのプログラムが停止するか判断できるプログラムがあるか」の答えは「いいえ」になる。

### なんでこいつは一日解説を聞いたり読んだりしても理解できなかったのか

まあ代数学の考え方にまったく慣れてない。だから今回停止性問題については理解できたと思うけど、「それを代数学の考え方で理解する」ことはできてない。いまだに `B(X) が停止すると仮定したとき X はループするプログラムに限らなくてもいい` が理解できてないもん。

そんなこいつが理解できなかったのは以下が原因かなと。

- `B(X)` と `B(B(X))` は同じだと言われ、`引数が違えば結果が違う` という話を肯定されなかった。
- そのため `B(B(B(X)))` や `B(B(B(B(X))))` の話にならなかった。

ちなみに今回はそもそもカントールの対角線論法について調べていたのだ。そして対角線論法は結構簡単で理解できたんだけど、「対角線論法を使って証明されたものの一例」として挙げられていた停止性問題が理解できなかった、という流れだった。
